<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripSeat API Documentation</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap"
      rel="stylesheet">
    <style>
    :root {
      --primary-100: #fffaf3;
      --primary-200: #fff2e0;
      --primary-400: #ffe1b4;
      --primary-600: #ffcc7f;
      --primary-800: #ffb74c;
      --primary-1000: #e78f0c;
      --gray-100: #f2f2f2;
      --gray-200: #d4d4d4;
      --gray-400: #939393;
      --gray-600: #5b5b5b;
      --gray-800: #333333;
      --gray-1000: #212121;
      --white: #ffffff;
      --success: #4fcf7c;
      --danger: #ff6b6b;
      --info: #5b9bd5;
      --warning: #ffc107;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans TC', sans-serif;
      background: var(--gray-100);
      color: var(--gray-800);
      line-height: 1.5;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, var(--primary-800), var(--primary-1000));
      color: var(--white);
      padding: 40px 20px;
      text-align: center;
    }
    .header h1 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 10px;
    }
    .header p {
      font-size: 16px;
      opacity: 0.9;
    }
    .header .server-url {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 8px 20px;
      border-radius: 20px;
      margin-top: 15px;
      font-family: monospace;
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /* File Loader */
    .file-loader {
      background: var(--white);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      display: flex;
      align-items: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    .file-loader label {
      font-weight: 700;
      color: var(--gray-800);
    }
    .file-loader input[type="file"] {
      flex: 1;
      min-width: 200px;
    }
    .file-loader .status {
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 700;
    }
    .file-loader .status.loaded {
      background: var(--primary-100);
      color: var(--primary-1000);
    }
    .file-loader .status.empty {
      background: var(--gray-100);
      color: var(--gray-400);
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .tab {
      padding: 10px 20px;
      background: var(--white);
      border: 2px solid var(--gray-200);
      border-radius: 25px;
      cursor: pointer;
      font-weight: 700;
      font-size: 14px;
      color: var(--gray-600);
      transition: all 0.2s;
    }
    .tab:hover {
      border-color: var(--primary-600);
      color: var(--primary-800);
    }
    .tab.active {
      background: var(--primary-800);
      border-color: var(--primary-800);
      color: var(--white);
    }

    /* Section */
    .section {
      background: var(--white);
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      overflow: hidden;
    }
    .section-header {
      background: var(--primary-100);
      padding: 20px;
      border-bottom: 1px solid var(--primary-200);
    }
    .section-header h2 {
      font-size: 20px;
      color: var(--primary-1000);
      margin-bottom: 5px;
    }
    .section-header p {
      font-size: 14px;
      color: var(--gray-600);
    }
    .section-content {
      padding: 20px;
    }

    /* HTTP Status Codes */
    .status-codes {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
    }
    .status-code {
      border: 1px solid var(--gray-200);
      border-radius: 8px;
      padding: 15px;
      transition: all 0.2s;
    }
    .status-code:hover {
      border-color: var(--primary-400);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .status-code .code {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 4px;
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .status-code .code.success { background: #e8f5e9; color: #2e7d32; }
    .status-code .code.redirect { background: #fff3e0; color: #ef6c00; }
    .status-code .code.client-error { background: #ffebee; color: #c62828; }
    .status-code .code.server-error { background: #fce4ec; color: #ad1457; }
    .status-code .name { font-weight: 700; color: var(--gray-800); margin-bottom: 5px; }
    .status-code .desc { font-size: 14px; color: var(--gray-600); margin-bottom: 8px; }
    .status-code .usage { font-size: 13px; color: var(--gray-400); background: var(--gray-100); padding: 8px; border-radius: 4px; }

    /* Endpoints */
    .endpoint {
      border: 1px solid var(--gray-200);
      border-radius: 8px;
      margin-bottom: 15px;
      overflow: hidden;
    }
    .endpoint-header {
      display: flex;
      align-items: center;
      padding: 15px;
      cursor: pointer;
      background: var(--white);
      transition: background 0.2s;
    }
    .endpoint-header:hover {
      background: var(--primary-100);
    }
    .endpoint.open .endpoint-header {
      border-bottom: 1px solid var(--gray-200);
    }
    .method {
      padding: 6px 12px;
      border-radius: 4px;
      font-weight: 700;
      font-size: 12px;
      margin-right: 15px;
      min-width: 70px;
      text-align: center;
    }
    .method.get { background: #e3f2fd; color: #1565c0; }
    .method.post { background: #e8f5e9; color: #2e7d32; }
    .method.put { background: #fff3e0; color: #ef6c00; }
    .method.patch { background: #f3e5f5; color: #7b1fa2; }
    .method.delete { background: #ffebee; color: #c62828; }
    .endpoint-path {
      font-family: 'Courier New', monospace;
      font-weight: 700;
      color: var(--gray-800);
      flex: 1;
    }
    .endpoint-desc {
      color: var(--gray-400);
      font-size: 14px;
    }
    .endpoint-body {
      display: none;
      padding: 20px;
      background: var(--gray-100);
    }
    .endpoint.open .endpoint-body {
      display: block;
    }

    /* Code Block */
    .code-block {
      background: var(--gray-800);
      color: #f8f8f2;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      overflow-x: auto;
      margin: 10px 0;
      white-space: pre-wrap;
      word-wrap: break-word;
      line-height: 1.6;
    }
    .code-block .string { color: #a6e22e; }
    .code-block .number { color: #ae81ff; }
    .code-block .key { color: #66d9ef; }
    .code-block .boolean { color: #ae81ff; }
    .code-block .null { color: #ae81ff; }
    .code-block .comment { color: #75715e; }

    /* Table */
    .param-table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0;
    }
    .param-table th, .param-table td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid var(--gray-200);
    }
    .param-table th {
      background: var(--primary-100);
      font-weight: 700;
      color: var(--primary-1000);
    }
    .param-table .type {
      color: var(--info);
      font-family: monospace;
      font-size: 13px;
    }
    .param-table .required {
      color: var(--danger);
      font-size: 12px;
    }

    /* Query Params Section */
    .query-section {
      background: var(--white);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .query-section h4 {
      color: var(--primary-1000);
      margin-bottom: 10px;
      font-size: 14px;
    }
    .query-example {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .query-tag {
      background: var(--primary-100);
      color: var(--primary-1000);
      padding: 4px 12px;
      border-radius: 15px;
      font-size: 13px;
      font-family: monospace;
    }

    /* API List from db.json */
    .api-list {
      display: none;
    }
    .api-list.active {
      display: block;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header h1 { font-size: 24px; }
      .endpoint-header { flex-wrap: wrap; }
      .method { margin-bottom: 10px; }
    }
  </style>
  </head>
  <body>
    <div class="header">
      <h1>TripSeat API Documentation</h1>
      <p>æªåœ˜æ—…éŠå¹³å° RESTful API æ–‡ä»¶</p>
      <div class="server-url">http://localhost:3001</div>
    </div>

    <div class="container">
      <!-- File Loader -->
      <div class="file-loader">
        <label>é‡æ–°è¼‰å…¥ db.json (é¸å¡«):</label>
        <input type="file" id="fileInput" accept=".json">
        <span id="loadStatus" class="status empty">å°šæœªè¼‰å…¥</span>
        <small style="color:var(--gray-400);">å·²å…§åµŒé è¨­è³‡æ–™ï¼Œå¯ä¸Šå‚³æ–°ç‰ˆæœ¬è¦†è“‹</small>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab active" data-tab="intro">èªè­˜ json-server-auth</button>
        <button class="tab" data-tab="env-config">ENV ç’°å¢ƒè¨­å®š</button>
        <button class="tab" data-tab="response-format">å›æ‡‰æ ¼å¼</button>
        <button class="tab" data-tab="auth-permissions">æ¬Šé™èªªæ˜</button>
        <button class="tab" data-tab="status-codes">HTTP ç‹€æ…‹ç¢¼</button>
        <button class="tab" data-tab="common-params">é€šç”¨åƒæ•¸</button>
        <button class="tab" data-tab="api-endpoints">API ç«¯é»</button>

      </div>

      <!-- Intro Section -->
      <div id="intro" class="api-list active">
        <div class="section">
          <div class="section-header">
            <h2>ä»€éº¼æ˜¯ json-server-authï¼Ÿ</h2>
            <p>å¿«é€Ÿå»ºç«‹å…·æœ‰èº«ä»½é©—è­‰åŠŸèƒ½çš„å‡ APIï¼Œå‰ç«¯é–‹ç™¼çš„å¥½å¹«æ‰‹</p>
          </div>
          <div class="section-content">
            <!-- ç°¡ä»‹ -->
            <div
              style="display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:20px; margin-bottom:30px;">
              <div
                style="background:linear-gradient(135deg, var(--primary-100), var(--primary-200)); padding:25px; border-radius:12px;">
                <h3
                  style="color:var(--primary-1000); margin-bottom:10px; font-size:18px;">json-server</h3>
                <p
                  style="color:var(--gray-600); font-size:14px; line-height:1.6;">
                  ç”¨ä¸€å€‹ JSON æª”æ¡ˆï¼Œ30 ç§’å…§å»ºç«‹å®Œæ•´çš„ REST APIã€‚<br>
                  æ”¯æ´ GETã€POSTã€PUTã€PATCHã€DELETE æ‰€æœ‰ CRUD æ“ä½œã€‚
                </p>
              </div>
              <div
                style="background:linear-gradient(135deg, #e3f2fd, #bbdefb); padding:25px; border-radius:12px;">
                <h3 style="color:#1565c0; margin-bottom:10px; font-size:18px;">+
                  auth æ“´å……</h3>
                <p
                  style="color:var(--gray-600); font-size:14px; line-height:1.6;">
                  åŠ ä¸Š <strong>json-server-auth</strong> å¾Œï¼Œå°±æœ‰ï¼š<br>
                  è¨»å†Šã€ç™»å…¥ã€JWT Tokenã€æ¬Šé™æ§ç®¡åŠŸèƒ½ã€‚
                </p>
              </div>
              <div
                style="background:linear-gradient(135deg, #e8f5e9, #c8e6c9); padding:25px; border-radius:12px;">
                <h3 style="color:#2e7d32; margin-bottom:10px; font-size:18px;">=
                  å®Œæ•´å¾Œç«¯æ¨¡æ“¬</h3>
                <p
                  style="color:var(--gray-600); font-size:14px; line-height:1.6;">
                  ä¸éœ€è¦å¯«å¾Œç«¯ç¨‹å¼ï¼Œå‰ç«¯å°±èƒ½å®Œæ•´æ¸¬è©¦ç™»å…¥æµç¨‹ã€æ¬Šé™åˆ¤æ–·ã€è³‡æ–™ CRUDã€‚
                </p>
              </div>
            </div>

            <!-- ç‚ºä»€éº¼ä½¿ç”¨ -->
            <h3
              style="margin-bottom:15px; color:var(--primary-1000);">ç‚ºä»€éº¼è¦ä½¿ç”¨ï¼Ÿ</h3>
            <div
              style="background:var(--gray-100); padding:20px; border-radius:8px; margin-bottom:30px;">
              <table class="param-table">
                <tr>
                  <th style="width:180px;">æƒ…å¢ƒ</th>
                  <th>è§£æ±ºæ–¹æ¡ˆ</th>
                </tr>
                <tr>
                  <td>å¾Œç«¯é‚„æ²’å¯«å¥½</td>
                  <td>ç”¨ json-server æ¨¡æ“¬ APIï¼Œå‰ç«¯å¯ä»¥å…ˆé–‹ç™¼</td>
                </tr>
                <tr>
                  <td>æƒ³ç·´ç¿’ä¸²æ¥ API</td>
                  <td>ä¸ç”¨æ¶è¨­çœŸæ­£çš„ä¼ºæœå™¨ï¼ŒJSON æª”æ¡ˆå°±æ˜¯è³‡æ–™åº«</td>
                </tr>
                <tr>
                  <td>éœ€è¦ç™»å…¥åŠŸèƒ½</td>
                  <td>json-server-auth æä¾›è¨»å†Š/ç™»å…¥/JWTï¼ŒåƒçœŸçš„ä¸€æ¨£</td>
                </tr>
                <tr>
                  <td>éœ€è¦æ¬Šé™æ§åˆ¶</td>
                  <td>ç”¨è·¯ç”±å‰ç¶´ (/600, /640...) æ¨¡æ“¬ã€Œèª°å¯ä»¥å­˜å–ä»€éº¼ã€</td>
                </tr>
                <tr>
                  <td>åœ˜éšŠå”ä½œé–‹ç™¼</td>
                  <td>å‰å¾Œç«¯å®šå¥½ API è¦æ ¼å¾Œï¼Œå‰ç«¯ç”¨ mock å…ˆé–‹ç™¼</td>
                </tr>
              </table>
            </div>

            <!-- é‹ä½œæµç¨‹ -->
            <h3
              style="margin-bottom:15px; color:var(--primary-1000);">é‹ä½œæµç¨‹åœ–è§£</h3>
            <div
              style="background:var(--white); border:2px solid var(--gray-200); border-radius:12px; padding:25px; margin-bottom:30px;">
              <div
                style="display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:15px; text-align:center;">
                <div
                  style="background:var(--primary-100); padding:15px 20px; border-radius:8px; min-width:120px;">
                  <div style="font-size:24px; margin-bottom:5px;">ğŸ“</div>
                  <div
                    style="font-weight:700; color:var(--primary-1000);">db.json</div>
                  <div style="font-size:12px; color:var(--gray-400);">ä½ çš„è³‡æ–™</div>
                </div>
                <div style="font-size:24px; color:var(--gray-400);">â†’</div>
                <div
                  style="background:#e3f2fd; padding:15px 20px; border-radius:8px; min-width:120px;">
                  <div style="font-size:24px; margin-bottom:5px;">âš™ï¸</div>
                  <div
                    style="font-weight:700; color:#1565c0;">json-server-auth</div>
                  <div style="font-size:12px; color:var(--gray-400);">è‡ªå‹•ç”¢ç”Ÿ
                    API</div>
                </div>
                <div style="font-size:24px; color:var(--gray-400);">â†’</div>
                <div
                  style="background:#e8f5e9; padding:15px 20px; border-radius:8px; min-width:120px;">
                  <div style="font-size:24px; margin-bottom:5px;">ğŸŒ</div>
                  <div style="font-weight:700; color:#2e7d32;">REST API</div>
                  <div
                    style="font-size:12px; color:var(--gray-400);">http://localhost:3001</div>
                </div>
                <div style="font-size:24px; color:var(--gray-400);">â†’</div>
                <div
                  style="background:#fff3e0; padding:15px 20px; border-radius:8px; min-width:120px;">
                  <div style="font-size:24px; margin-bottom:5px;">ğŸ’»</div>
                  <div
                    style="font-weight:700; color:var(--primary-1000);">å‰ç«¯æ‡‰ç”¨</div>
                  <div style="font-size:12px; color:var(--gray-400);">React /
                    Vue</div>
                </div>
              </div>
            </div>

            <!-- å…§å»º API ç«¯é» -->
            <h3 style="margin-bottom:15px; color:var(--primary-1000);">å…§å»ºçš„èº«ä»½é©—è­‰
              API</h3>
            <div style="margin-bottom:30px;">
              <div class="endpoint">
                <div class="endpoint-header"
                  onclick="this.parentElement.classList.toggle('open')">
                  <span class="method post">POST</span>
                  <span class="endpoint-path">/register</span>
                  <span class="endpoint-desc">è¨»å†Šæ–°å¸³è™Ÿ</span>
                </div>
                <div class="endpoint-body">
                  <p><strong>è«‹æ±‚ Body:</strong></p>
                  <div class="code-block">{
                    <span class="key">"email"</span>: <span
                      class="string">"user@example.com"</span>,
                    <span class="key">"password"</span>: <span
                      class="string">"123456"</span>,
                    <span class="key">"name"</span>: <span
                      class="string">"å°æ˜"</span> <span class="comment">//
                      å¯è‡ªè¨‚å…¶ä»–æ¬„ä½</span>
                    }</div>
                  <p style="margin-top:15px;"><strong>æˆåŠŸå›æ‡‰:</strong> <code>201
                      Created</code></p>
                  <div class="code-block">{
                    <span class="key">"accessToken"</span>: <span
                      class="string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span>,
                    <span class="key">"user"</span>: {
                    <span class="key">"id"</span>: <span
                      class="number">1</span>,
                    <span class="key">"email"</span>: <span
                      class="string">"user@example.com"</span>,
                    <span class="key">"name"</span>: <span
                      class="string">"å°æ˜"</span>
                    }
                    }

                    <span class="comment">// å‰ç«¯å­˜å„² Token</span>
                    localStorage.setItem(<span class="string">'token'</span>,
                    response.data.accessToken);
                    localStorage.setItem(<span class="string">'user'</span>,
                    JSON.stringify(response.data.user));</div>
                </div>
              </div>

              <div class="endpoint">
                <div class="endpoint-header"
                  onclick="this.parentElement.classList.toggle('open')">
                  <span class="method post">POST</span>
                  <span class="endpoint-path">/login</span>
                  <span class="endpoint-desc">ç™»å…¥</span>
                </div>
                <div class="endpoint-body">
                  <p><strong>è«‹æ±‚ Body:</strong></p>
                  <div class="code-block">{
                    <span class="key">"email"</span>: <span
                      class="string">"user@example.com"</span>,
                    <span class="key">"password"</span>: <span
                      class="string">"123456"</span>
                    }</div>
                  <p style="margin-top:15px;"><strong>æˆåŠŸå›æ‡‰:</strong> <code>200
                      OK</code></p>
                  <div class="code-block">{
                    <span class="key">"accessToken"</span>: <span
                      class="string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span>,
                    <span class="key">"user"</span>: {
                    <span class="key">"id"</span>: <span
                      class="number">1</span>,
                    <span class="key">"email"</span>: <span
                      class="string">"user@example.com"</span>,
                    <span class="key">"name"</span>: <span
                      class="string">"å°æ˜"</span>
                    }
                    }</div>
                  <p style="margin-top:15px;"><strong>éŒ¯èª¤å›æ‡‰:</strong></p>
                  <div class="code-block"><span class="comment">// 400 Bad
                      Request - å¯†ç¢¼éŒ¯èª¤</span>
                    <span class="string">"Incorrect password"</span>

                    <span class="comment">// 400 Bad Request - å¸³è™Ÿä¸å­˜åœ¨</span>
                    <span class="string">"Cannot find user"</span></div>
                </div>
              </div>
            </div>

            <!-- JWT Token èªªæ˜ -->
            <h3 style="margin-bottom:15px; color:var(--primary-1000);">JWT Token
              æ˜¯ä»€éº¼ï¼Ÿ</h3>
            <div
              style="background:#fff3e0; padding:20px; border-radius:8px; margin-bottom:30px; border-left:4px solid var(--warning);">
              <p style="color:var(--gray-600); margin-bottom:15px;">
                <strong>JWT (JSON Web Token)</strong>
                æ˜¯ä¸€ç¨®é©—è­‰æ©Ÿåˆ¶ã€‚ç™»å…¥æˆåŠŸå¾Œï¼Œä¼ºæœå™¨æœƒç™¼çµ¦ä½ ä¸€å€‹ã€Œé€šè¡Œè­‰ã€(Token)ï¼Œä¹‹å¾Œæ¯æ¬¡è«‹æ±‚éƒ½è¦å¸¶è‘—å®ƒï¼Œä¼ºæœå™¨æ‰çŸ¥é“ä½ æ˜¯èª°ã€‚
              </p>
              <div class="code-block"><span class="comment">// Token é•·é€™æ¨£ (ä¸‰æ®µç”¨ .
                  åˆ†éš”)</span>
                eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsImlhdCI6MTY...

                <span class="comment">// ç™¼é€è«‹æ±‚æ™‚è¦å¸¶åœ¨ Header è£¡</span>
                axios.get(<span class="string">'/660/trips'</span>, {
                headers: {
                <span class="key">'Authorization'</span>: <span
                  class="string">`Bearer ${token}`</span>
                }
                });

                <span class="comment">// æˆ–è¨­å®š axios é è¨­å€¼ (æ¨è–¦)</span>
                axios.defaults.headers.common[<span
                  class="string">'Authorization'</span>] = <span
                  class="string">`Bearer ${token}`</span>;</div>
            </div>

            <!-- å¿«é€Ÿé–‹å§‹ -->
            <h3 style="margin-bottom:15px; color:var(--primary-1000);">å¿«é€Ÿé–‹å§‹</h3>
            <div class="query-section">
              <h4>1. å®‰è£</h4>
              <div class="code-block"><span class="comment"># å…¨åŸŸå®‰è£</span>
                npm install -g json-server json-server-auth

                <span class="comment"># æˆ–å°ˆæ¡ˆå…§å®‰è£</span>
                npm install json-server json-server-auth --save-dev</div>
            </div>

            <div class="query-section">
              <h4>2. æº–å‚™ db.json</h4>
              <div class="code-block">{
                <span class="key">"users"</span>: [], <span class="comment">//
                  å¿…é ˆæœ‰é€™å€‹ï¼ç”¨ä¾†å­˜å¸³è™Ÿè³‡æ–™</span>
                <span class="key">"trips"</span>: [],
                <span class="key">"messages"</span>: []
                }</div>
            </div>

            <div class="query-section">
              <h4>3. æº–å‚™ routes.json (è¨­å®šæ¬Šé™è·¯ç”±)</h4>
              <div class="code-block">{
                <span class="key">"/664/trips/*"</span>: <span
                  class="string">"/trips/$1"</span>,
                <span class="key">"/660/messages/*"</span>: <span
                  class="string">"/messages/$1"</span>,
                <span class="key">"/600/favorites/*"</span>: <span
                  class="string">"/favorites/$1"</span>
                }</div>
            </div>

            <div class="query-section">
              <h4>4. å•Ÿå‹•ä¼ºæœå™¨</h4>
              <div class="code-block"><span class="comment"># åŸºæœ¬å•Ÿå‹•</span>
                json-server-auth db.json --port 3001

                <span class="comment"># æ­é…è·¯ç”±è¨­å®š</span>
                json-server-auth db.json --routes routes.json --port 3001

                <span class="comment"># æˆ–åœ¨ package.json åŠ å…¥ script</span>
                <span class="string">"scripts"</span>: {
                <span class="key">"server"</span>: <span
                  class="string">"json-server-auth db.json -r routes.json -p 3001"</span>
                }</div>
            </div>

            <!-- ç›¸é—œè³‡æº -->
            <h3 style="margin:30px 0 15px; color:var(--gray-600);">ç›¸é—œè³‡æº</h3>
            <div style="display:flex; flex-wrap:wrap; gap:10px;">
              <a href="https://github.com/typicode/json-server" target="_blank"
                style="background:var(--gray-800); color:var(--white); padding:10px 20px; border-radius:20px; text-decoration:none; font-size:14px;">
                GitHub: json-server
              </a>
              <a href="https://github.com/jeremyben/json-server-auth"
                target="_blank"
                style="background:var(--primary-800); color:var(--white); padding:10px 20px; border-radius:20px; text-decoration:none; font-size:14px;">
                GitHub: json-server-auth
              </a>
              <a href="https://jwt.io/" target="_blank"
                style="background:var(--info); color:var(--white); padding:10px 20px; border-radius:20px; text-decoration:none; font-size:14px;">
                JWT.io (Token è§£ç¢¼)
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Response Format Section -->
      <div id="response-format" class="api-list">
        <div class="section">
          <div class="section-header">
            <h2>API å›æ‡‰æ ¼å¼èªªæ˜</h2>
            <p>äº†è§£å¦‚ä½•æ­£ç¢ºå–å¾—è³‡æ–™ã€è™•ç†éŒ¯èª¤èˆ‡åˆ†é è³‡è¨Š</p>
          </div>
          <div class="section-content">
            <!-- é‡è¦æç¤º -->
            <div
              style="background:#fff3e0; padding:20px; border-radius:8px; margin-bottom:20px; border-left:4px solid var(--warning);">
              <h4
                style="color:var(--primary-1000); margin-bottom:10px;">json-server
                vs æ­£å¼ API</h4>
              <p style="color:var(--gray-600);">
                <strong>json-server</strong>
                é è¨­ç›´æ¥å›å‚³è³‡æ–™é™£åˆ—/ç‰©ä»¶ï¼Œ<strong>ä¸æœƒ</strong>åŒ…è£åœ¨ <code>data</code> è£¡é¢ã€‚<br>
                è‹¥éœ€è¦çµ±ä¸€æ ¼å¼ï¼Œå¯ä»¥é€é middleware æˆ–åœ¨å‰ç«¯ axios interceptor è‡ªè¡ŒåŒ…è£ã€‚
              </p>
            </div>

            <!-- æˆåŠŸå›æ‡‰ -->
            <h3 style="margin-bottom:15px; color:var(--success);">æˆåŠŸå›æ‡‰
              (2xx)</h3>

            <div class="query-section">
              <h4>GET å–å¾—åˆ—è¡¨ - 200 OK</h4>
              <div class="code-block"><span class="comment">// json-server åŸç”Ÿå›æ‡‰
                  (ç›´æ¥æ˜¯é™£åˆ—)</span>
                [
                { <span class="key">"id"</span>: <span
                  class="string">"t1"</span>, <span class="key">"title"</span>:
                <span class="string">"ç¶ å³¶æ½›æ°´åœ˜"</span>, ... },
                { <span class="key">"id"</span>: <span
                  class="string">"t2"</span>, <span class="key">"title"</span>:
                <span class="string">"é˜¿é‡Œå±±æ—¥å‡º"</span>, ... }
                ]

                <span class="comment">// å‰ç«¯å–å€¼æ–¹å¼</span>
                <span class="key">const</span> response = <span
                  class="key">await</span> axios.get(<span
                  class="string">'/trips'</span>);
                <span class="key">const</span> trips = response.<span
                  class="key">data</span>; <span class="comment">// â†
                  ç›´æ¥å°±æ˜¯é™£åˆ—</span>
                trips.forEach(trip => console.log(trip.title));</div>
              <p style="margin-top:10px; color:var(--gray-600);">
                <strong>Response Headers åŒ…å«åˆ†é è³‡è¨Šï¼š</strong>
              </p>
              <div class="code-block"><span class="comment">// ä½¿ç”¨ _page
                  åƒæ•¸æ™‚ï¼ŒHeader æœƒå›å‚³ç¸½æ•¸</span>
                X-Total-Count: 45

                <span class="comment">// å‰ç«¯å–å¾—ç¸½æ•¸</span>
                <span class="key">const</span> total = response.headers[<span
                  class="string">'x-total-count'</span>];
                <span class="key">const</span> totalPages = Math.ceil(total /
                limit);</div>
            </div>

            <div class="query-section">
              <h4>GET å–å¾—å–®ç­† - 200 OK</h4>
              <div class="code-block"><span class="comment">// json-server åŸç”Ÿå›æ‡‰
                  (ç›´æ¥æ˜¯ç‰©ä»¶)</span>
                {
                <span class="key">"id"</span>: <span class="string">"t1"</span>,
                <span class="key">"title"</span>: <span
                  class="string">"ç¶ å³¶æ½›æ°´åœ˜"</span>,
                <span class="key">"owner_id"</span>: <span
                  class="string">"u1"</span>,
                <span class="key">"price"</span>: <span
                  class="number">6000</span>,
                <span class="key">"status"</span>: <span
                  class="string">"open"</span>
                }

                <span class="comment">// å‰ç«¯å–å€¼æ–¹å¼</span>
                <span class="key">const</span> response = <span
                  class="key">await</span> axios.get(<span
                  class="string">'/trips/t1'</span>);
                <span class="key">const</span> trip = response.<span
                  class="key">data</span>; <span class="comment">// â†
                  ç›´æ¥å°±æ˜¯ç‰©ä»¶</span>
                console.log(trip.title); <span class="comment">//
                  "ç¶ å³¶æ½›æ°´åœ˜"</span></div>
            </div>

            <div class="query-section">
              <h4>POST å»ºç«‹è³‡æ–™ - 201 Created</h4>
              <div class="code-block"><span class="comment">// è«‹æ±‚</span>
                POST /trips
                {
                <span class="key">"title"</span>: <span
                  class="string">"æ–°æ—…ç¨‹"</span>,
                <span class="key">"owner_id"</span>: <span
                  class="string">"u1"</span>
                }

                <span class="comment">// å›æ‡‰ - å›å‚³æ–°å»ºç«‹çš„å®Œæ•´è³‡æ–™ (å«è‡ªå‹•ç”¢ç”Ÿçš„ id)</span>
                {
                <span class="key">"id"</span>: <span
                  class="string">"abc123"</span>, <span class="comment">// â†
                  ä¼ºæœå™¨è‡ªå‹•ç”¢ç”Ÿ</span>
                <span class="key">"title"</span>: <span
                  class="string">"æ–°æ—…ç¨‹"</span>,
                <span class="key">"owner_id"</span>: <span
                  class="string">"u1"</span>
                }

                <span class="comment">// å‰ç«¯å–å¾—æ–° ID</span>
                <span class="key">const</span> response = <span
                  class="key">await</span> axios.post(<span
                  class="string">'/trips'</span>, newTrip);
                <span class="key">const</span> newId = response.<span
                  class="key">data</span>.<span class="key">id</span>; <span
                  class="comment">// "abc123"</span></div>
            </div>

            <div class="query-section">
              <h4>PATCH æ›´æ–°è³‡æ–™ - 200 OK</h4>
              <div class="code-block"><span class="comment">// è«‹æ±‚ -
                  åªéœ€è¦å‚³è¦æ›´æ–°çš„æ¬„ä½</span>
                PATCH /trips/t1
                {
                <span class="key">"title"</span>: <span
                  class="string">"æ›´æ–°å¾Œçš„æ¨™é¡Œ"</span>
                }

                <span class="comment">// å›æ‡‰ - å›å‚³æ›´æ–°å¾Œçš„å®Œæ•´è³‡æ–™</span>
                {
                <span class="key">"id"</span>: <span class="string">"t1"</span>,
                <span class="key">"title"</span>: <span
                  class="string">"æ›´æ–°å¾Œçš„æ¨™é¡Œ"</span>, <span class="comment">// â†
                  å·²æ›´æ–°</span>
                <span class="key">"owner_id"</span>: <span
                  class="string">"u1"</span>,
                <span class="key">"price"</span>: <span
                  class="number">6000</span> <span class="comment">// â†
                  å…¶ä»–æ¬„ä½ä¿æŒä¸è®Š</span>
                }</div>
            </div>

            <div class="query-section">
              <h4>DELETE åˆªé™¤è³‡æ–™ - 200 OK</h4>
              <div class="code-block"><span class="comment">// è«‹æ±‚</span>
                DELETE /trips/t1

                <span class="comment">// å›æ‡‰ - å›å‚³ç©ºç‰©ä»¶</span>
                {}

                <span class="comment">// å‰ç«¯åˆ¤æ–·æ˜¯å¦æˆåŠŸ</span>
                <span class="key">const</span> response = <span
                  class="key">await</span> axios.delete(<span
                  class="string">`/trips/${id}`</span>);
                <span class="key">if</span> (response.status === <span
                  class="number">200</span>) {
                console.log(<span class="string">'åˆªé™¤æˆåŠŸ'</span>);
                }</div>
            </div>

            <!-- éŒ¯èª¤å›æ‡‰ -->
            <h3 style="margin:30px 0 15px; color:var(--danger);">éŒ¯èª¤å›æ‡‰ (4xx /
              5xx)</h3>

            <div class="query-section">
              <h4>401 Unauthorized - æœªç™»å…¥</h4>
              <div class="code-block"><span class="comment">// å­˜å–éœ€è¦ç™»å…¥çš„è³‡æºä½†æ²’å¸¶
                  Token</span>
                GET /660/messages

                <span class="comment">// å›æ‡‰</span>
                <span class="string">"jwt must be provided"</span>

                <span class="comment">// æˆ–</span>
                <span class="string">"Missing authorization header"</span>

                <span class="comment">// å‰ç«¯è™•ç†</span>
                axios.interceptors.response.use(
                response => response,
                error => {
                <span class="key">if</span> (error.response?.status === <span
                  class="number">401</span>) {
                <span class="comment">// å°å‘ç™»å…¥é </span>
                router.push(<span class="string">'/login'</span>);
                }
                <span class="key">return</span> Promise.reject(error);
                }
                );</div>
            </div>

            <div class="query-section">
              <h4>403 Forbidden - æ²’æœ‰æ¬Šé™</h4>
              <div class="code-block"><span class="comment">// å˜—è©¦ä¿®æ”¹åˆ¥äººçš„è³‡æ–™</span>
                PATCH /600/favorites/123
                Authorization: Bearer {token}

                <span class="comment">// å›æ‡‰</span>
                <span
                  class="string">"Private resource access: request user id must match resource user id"</span>

                <span class="comment">// å‰ç«¯å–å¾—éŒ¯èª¤è¨Šæ¯</span>
                <span class="key">try</span> {
                <span class="key">await</span> axios.patch(<span
                  class="string">'/600/favorites/123'</span>, data);
                } <span class="key">catch</span> (error) {
                <span class="key">const</span> message = error.response.<span
                  class="key">data</span>; <span class="comment">// â†
                  éŒ¯èª¤è¨Šæ¯æ˜¯å­—ä¸²</span>
                console.log(message);
                }</div>
            </div>

            <div class="query-section">
              <h4>404 Not Found - è³‡æºä¸å­˜åœ¨</h4>
              <div class="code-block"><span class="comment">// æŸ¥è©¢ä¸å­˜åœ¨çš„ ID</span>
                GET /trips/not-exist-id

                <span class="comment">// å›æ‡‰ - ç©ºç‰©ä»¶</span>
                {}

                <span class="comment">// å‰ç«¯åˆ¤æ–·</span>
                <span class="key">const</span> response = <span
                  class="key">await</span> axios.get(<span
                  class="string">`/trips/${id}`</span>);
                <span class="key">if</span> (Object.keys(response.<span
                  class="key">data</span>).length === <span
                  class="number">0</span>) {
                console.log(<span class="string">'æ‰¾ä¸åˆ°è³‡æ–™'</span>);
                }</div>
            </div>

            <!-- å¿«é€Ÿåƒè€ƒ -->
            <h3
              style="margin:30px 0 15px; color:var(--primary-1000);">å‰ç«¯å–å€¼å¿«é€Ÿåƒè€ƒ</h3>
            <table class="param-table">
              <thead>
                <tr>
                  <th>æƒ…å¢ƒ</th>
                  <th>å–å€¼æ–¹å¼</th>
                  <th>å›å‚³é¡å‹</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>å–å¾—åˆ—è¡¨</td>
                  <td><code>response.data</code></td>
                  <td>Array</td>
                </tr>
                <tr>
                  <td>å–å¾—å–®ç­†</td>
                  <td><code>response.data</code></td>
                  <td>Object</td>
                </tr>
                <tr>
                  <td>å–å¾—ç¸½ç­†æ•¸</td>
                  <td><code>response.headers['x-total-count']</code></td>
                  <td>String (éœ€è½‰æ•¸å­—)</td>
                </tr>
                <tr>
                  <td>å–å¾—æ–°å»º ID</td>
                  <td><code>response.data.id</code></td>
                  <td>String</td>
                </tr>
                <tr>
                  <td>HTTP ç‹€æ…‹ç¢¼</td>
                  <td><code>response.status</code></td>
                  <td>Number (200, 201, etc.)</td>
                </tr>
                <tr>
                  <td>éŒ¯èª¤è¨Šæ¯</td>
                  <td><code>error.response.data</code></td>
                  <td>String</td>
                </tr>
                <tr>
                  <td>éŒ¯èª¤ç‹€æ…‹ç¢¼</td>
                  <td><code>error.response.status</code></td>
                  <td>Number (401, 403, 404, etc.)</td>
                </tr>
              </tbody>
            </table>

            <!-- è‡ªè¨‚åŒ…è£æ ¼å¼ -->
            <h3 style="margin:30px 0 15px; color:var(--info);">æƒ³è¦çµ±ä¸€åŒ…è£æ ¼å¼ï¼Ÿ</h3>
            <div
              style="background:var(--gray-100); padding:20px; border-radius:8px;">
              <p style="color:var(--gray-600); margin-bottom:15px;">
                å¦‚æœä½ å¸Œæœ›æ‰€æœ‰å›æ‡‰éƒ½åŒ…åœ¨ <code>{ data, status, message }</code> æ ¼å¼è£¡ï¼Œå¯ä»¥åœ¨å‰ç«¯ä½¿ç”¨
                axios interceptorï¼š
              </p>
              <div class="code-block"><span class="comment">// axios interceptor
                  çµ±ä¸€åŒ…è£</span>
                axios.interceptors.response.use(
                response => {
                <span class="key">return</span> {
                ...response,
                <span class="key">data</span>: {
                <span class="key">status</span>: <span
                  class="string">'success'</span>,
                <span class="key">data</span>: response.<span
                  class="key">data</span>,
                <span class="key">message</span>: <span
                  class="null">null</span>,
                <span class="key">pagination</span>: response.headers[<span
                  class="string">'x-total-count'</span>]
                ? { <span class="key">total</span>:
                parseInt(response.headers[<span
                  class="string">'x-total-count'</span>]) }
                : <span class="null">null</span>
                }
                };
                },
                error => {
                <span class="key">return</span> Promise.reject({
                <span class="key">status</span>: <span
                  class="string">'error'</span>,
                <span class="key">data</span>: <span class="null">null</span>,
                <span class="key">message</span>: error.response?.<span
                  class="key">data</span> || error.message,
                <span class="key">code</span>: error.response?.status
                });
                }
                );

                <span class="comment">// ä½¿ç”¨åŒ…è£å¾Œçš„æ ¼å¼</span>
                <span class="key">const</span> response = <span
                  class="key">await</span> axios.get(<span
                  class="string">'/trips'</span>);
                console.log(response.<span class="key">data</span>);
                <span class="comment">// {
                  // status: 'success',
                  // data: [...], â† å¯¦éš›è³‡æ–™åœ¨é€™è£¡
                  // message: null,
                  // pagination: { total: 45 }
                  // }</span></div>
            </div>
          </div>
        </div>
      </div>
      <!-- ENV ç’°å¢ƒè¨­å®š -->
      <div id="env-config" class="api-list">
        <div class="section">
          <div class="section-header">
            <h2>ENV ç’°å¢ƒè¨­å®šï¼ˆViteï¼‰</h2>
            <p>ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç®¡ç† API ä¾†æºï¼Œå®‰å…¨åˆæ–¹ä¾¿åˆ‡æ›é–‹ç™¼ / å±•ç¤ºç’°å¢ƒ</p>
          </div>

          <div class="section-content">
            <p style="margin-bottom:20px; color:var(--gray-600);">
              æœ¬å°ˆæ¡ˆä½¿ç”¨ <strong>Vite</strong> çš„ç’°å¢ƒè®Šæ•¸æ©Ÿåˆ¶ï¼Œ
              ä¾†å€åˆ† <strong>æœ¬æ©Ÿé–‹ç™¼ï¼ˆJson-Serverï¼‰</strong> èˆ‡
              <strong>ç·šä¸Šå±•ç¤ºï¼ˆRender APIï¼‰</strong>ï¼Œ
              é”æˆã€Œä¸ä¿®æ”¹ç¨‹å¼ç¢¼å³å¯åˆ‡æ›ç’°å¢ƒã€ã€‚
            </p>

            <!-- ç‚ºä»€éº¼éœ€è¦ -->
            <h3 style="margin-bottom:15px; color:var(--primary-1000);">ç‚ºä»€éº¼éœ€è¦
              ENVï¼Ÿ</h3>
            <div
              style="display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:20px; margin-bottom:30px;">
              <div
                style="background:var(--primary-100); padding:20px; border-radius:12px;">
                <h4 style="color:var(--primary-1000); margin-bottom:8px;">ğŸ§ª
                  æœ¬æ©Ÿé–‹ç™¼</h4>
                <p style="font-size:14px; color:var(--gray-600);">
                  ä½¿ç”¨ Json-Server å¿«é€Ÿæ¨¡æ“¬ APIï¼Œ<br>
                  å‰ç«¯å¯ç¨ç«‹é–‹ç™¼ã€ä¸ä¾è³´å¾Œç«¯ã€‚
                </p>
              </div>
              <div
                style="background:#e3f2fd; padding:20px; border-radius:12px;">
                <h4 style="color:#1565c0; margin-bottom:8px;">ğŸš€ ç·šä¸Šå±•ç¤º</h4>
                <p style="font-size:14px; color:var(--gray-600);">
                  æŒ‡å‘ Render éƒ¨ç½²çš„ APIï¼Œ<br>
                  Demo èˆ‡å¯¦éš›å±•ç¤ºç’°å¢ƒä¸€è‡´ã€‚
                </p>
              </div>
            </div>

            <!-- é‡è¦è¦å‰‡ -->
            <div
              style="background:#fff3e0; padding:20px; border-radius:8px; margin-bottom:30px; border-left:4px solid var(--warning);">
              <strong>é‡è¦è¦å‰‡ï¼š</strong><br>
              åœ¨ Vite ä¸­ï¼Œ<strong>æ‰€æœ‰æä¾›å‰ç«¯ä½¿ç”¨çš„ç’°å¢ƒè®Šæ•¸å¿…é ˆä»¥
                <code>VITE_</code> é–‹é ­</strong>ï¼Œå¦å‰‡ç„¡æ³•åœ¨ç¨‹å¼ä¸­è®€å–ã€‚
            </div>

            <!-- æª”æ¡ˆçµæ§‹ -->
            <h3 style="margin-bottom:15px; color:var(--primary-1000);">æª”æ¡ˆçµæ§‹</h3>
            <div class="code-block">
              .env.example # ç¯„ä¾‹æª”ï¼ˆå¯æäº¤ï¼‰
              .env.local # æœ¬æ©Ÿé–‹ç™¼ï¼ˆä¸å¯æäº¤ï¼‰
              .env.production # ç·šä¸Šå±•ç¤ºï¼ˆä¸å¯æäº¤ï¼‰
            </div>

            <!-- env example -->
            <h3
              style="margin:30px 0 15px; color:var(--primary-1000);">.env.example</h3>
            <div class="code-block">
              # TripSeat ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹

              VITE_STATUS=LOCALHOST_RUN
              VITE_API_BASE=http://localhost:3001
              VITE_API_KEY=your_secret_key_here
            </div>

            <!-- local -->
            <h3
              style="margin:30px 0 15px; color:var(--primary-1000);">æœ¬æ©Ÿé–‹ç™¼è¨­å®š</h3>
            <div class="code-block">
              # .env.local
              VITE_STATUS=LOCALHOST_RUN
              VITE_API_BASE=http://localhost:3001
            </div>

            <!-- production -->
            <h3
              style="margin:30px 0 15px; color:var(--primary-1000);">ç·šä¸Šå±•ç¤ºè¨­å®š</h3>
            <div class="code-block">
              # .env.production
              VITE_STATUS=PRODUCTION_LIVE
              VITE_API_BASE=https://tripseat-api-server.onrender.com
            </div>

            <!-- frontend -->
            <h3
              style="margin:30px 0 15px; color:var(--primary-1000);">å‰ç«¯å¦‚ä½•è®€å–</h3>
            <div class="code-block">
              const API_BASE = import.meta.env.VITE_API_BASE;
              const API_STATUS = import.meta.env.VITE_STATUS;
            </div>

            <!-- FAQ -->
            <h3 style="margin:30px 0 15px; color:var(--primary-1000);">å¸¸è¦‹å•é¡Œ</h3>
            <ul
              style="margin-left:20px; color:var(--gray-600); line-height:1.8;">
              <li>ä¿®æ”¹ <code>.env</code> å¾Œéœ€é‡æ–°åŸ·è¡Œ <code>npm run dev</code></li>
              <li>æ²’æœ‰ <code>VITE_</code> å‰ç¶´ï¼Œå‰ç«¯æœƒè®€ä¸åˆ°</li>
              <li><code>.env.local</code> / <code>.env.production</code> è«‹å‹¿æäº¤
                Git</li>
            </ul>
            <h3 style="margin:30px 0 15px; color:var(--primary-1000);">
              Build å¾Œæ–¼æœ¬æ©Ÿé è¦½ï¼ˆé€£ç·šé›²ç«¯ APIï¼‰
            </h3>

            <p style="color:var(--gray-600); margin-bottom:16px;">
              æœ¬å°ˆæ¡ˆåœ¨å®Œæˆ <strong>build</strong> å¾Œï¼Œ
              å³ä½¿ä¸ä¸Šç·šåˆ° GitHub Pagesï¼Œ
              ä¹Ÿå¯ä»¥åœ¨ <strong>æœ¬æ©Ÿç›´æ¥å•Ÿå‹•éœæ…‹ç¶²ç«™</strong>ï¼Œ
              ä¸¦ä¸” <strong>é€£ç·šè‡³é›²ç«¯ï¼ˆRenderï¼‰API</strong> é€²è¡Œå±•ç¤ºèˆ‡æ¸¬è©¦ã€‚
            </p>

            <h4 style="margin:20px 0 10px; color:var(--primary-1000);">
              1ï¸âƒ£ å»ºç«‹æ­£å¼ç‰ˆæª”æ¡ˆï¼ˆdistï¼‰
            </h4>

            <div class="code-block">
              npm run build
            </div>

            <p style="color:var(--gray-600); margin:16px 0;">
              æ­¤æŒ‡ä»¤æœƒç”¢ç”Ÿ <code>dist/</code> è³‡æ–™å¤¾ï¼Œ
              å…§å®¹ç‚ºå·²ç·¨è­¯å®Œæˆçš„éœæ…‹ç¶²ç«™ã€‚
            </p>

            <h4 style="margin:20px 0 10px; color:var(--primary-1000);">
              2ï¸âƒ£ ä½¿ç”¨ Vite å…§å»ºé è¦½æŒ‡ä»¤
            </h4>

            <div class="code-block">
              npm run preview
            </div>

            <p style="color:var(--gray-600); margin:16px 0;">
              é è¨­æœƒåœ¨ç€è¦½å™¨é–‹å•Ÿï¼š
              <code>http://localhost:4173</code>
            </p>

            <h4 style="margin:20px 0 10px; color:var(--primary-1000);">
              3ï¸âƒ£ API é€£ç·šèªªæ˜
            </h4>

            <p style="color:var(--gray-600); margin-bottom:16px;">
              åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œå‰ç«¯ä¸å†ä¾è³´æœ¬æ©Ÿ Json-Serverï¼Œ
              è€Œæ˜¯ç›´æ¥é€é <code>VITE_API_BASE</code>
              é€£ç·šè‡³ <strong>é›²ç«¯ï¼ˆRenderï¼‰JSON-Server</strong>ï¼Œ
              è¡Œç‚ºèˆ‡å¯¦éš›éƒ¨ç½²å¾Œå®Œå…¨ä¸€è‡´ã€‚
            </p>

            <div class="code-block">
              # .env.production
              VITE_API_BASE=https://tripseat-api-server.onrender.com
            </div>

            <div
              style="background:#e3f2fd; padding:16px; border-radius:8px; margin-top:20px; border-left:4px solid #1565c0;">
              <strong>é©åˆä½¿ç”¨æ™‚æ©Ÿï¼š</strong><br>
              âœ” Demo å‰æœ€çµ‚ç¢ºèª<br>
              âœ” åŠ©æ•™ç¾å ´æª¢è¦–<br>
              âœ” æ¨¡æ“¬æ­£å¼ä¸Šç·šè¡Œç‚º
            </div>

          </div>
        </div>
      </div>

      <!-- Auth Permissions Section -->
      <div id="auth-permissions" class="api-list">
        <div class="section">
          <div class="section-header">
            <h2>json-server-auth æ¬Šé™å°ç…§è¡¨</h2>
            <p>ä½¿ç”¨è·¯ç”±å‰ç¶´æ§åˆ¶è³‡æºçš„å­˜å–æ¬Šé™ï¼Œé¿å… 401/403 éŒ¯èª¤</p>
          </div>
          <div class="section-content">
            <!-- æ¬Šé™èªªæ˜ -->
            <div
              style="background:var(--primary-100); padding:20px; border-radius:8px; margin-bottom:20px;">
              <h4
                style="color:var(--primary-1000); margin-bottom:10px;">æ¬Šé™æ•¸å­—èªªæ˜</h4>
              <p style="color:var(--gray-600); margin-bottom:10px;">è·¯ç”±å‰ç¶´æ¡ç”¨é¡ä¼¼
                Unix æª”æ¡ˆæ¬Šé™çš„ä¸‰ä½æ•¸å­—ï¼š</p>
              <div style="display:flex; gap:30px; flex-wrap:wrap;">
                <div><strong>ç¬¬ä¸€ä½</strong> - è³‡æºæ“æœ‰è€… (Owner)</div>
                <div><strong>ç¬¬äºŒä½</strong> - å·²ç™»å…¥è€… (Logged-in)</div>
                <div><strong>ç¬¬ä¸‰ä½</strong> - è¨ªå®¢ (Public)</div>
              </div>
              <p style="color:var(--gray-600); margin-top:10px;">
                <code
                  style="background:var(--gray-800); color:#fff; padding:2px 8px; border-radius:4px;">6</code>
                = è®€å¯«çš†å¯ &nbsp;
                <code
                  style="background:var(--gray-800); color:#fff; padding:2px 8px; border-radius:4px;">4</code>
                = å”¯è®€ &nbsp;
                <code
                  style="background:var(--gray-800); color:#fff; padding:2px 8px; border-radius:4px;">0</code>
                = ç¦æ­¢è¨ªå•
              </p>
            </div>

            <!-- Owner vs Logged-in è§£é‡‹ -->
            <div
              style="background:#fff3e0; padding:20px; border-radius:8px; margin-bottom:20px; border-left:4px solid var(--warning);">
              <h4 style="color:var(--primary-1000); margin-bottom:15px;">Owner
                vs Logged-in æ˜¯ä»€éº¼æ„æ€ï¼Ÿ</h4>
              <table class="param-table" style="margin-bottom:15px;">
                <tr>
                  <th style="width:150px;">è§’è‰²</th>
                  <th>å®šç¾©</th>
                  <th>åˆ¤æ–·æ–¹å¼</th>
                </tr>
                <tr>
                  <td><strong
                      style="color:var(--primary-1000);">Owner<br>(è³‡æºæ“æœ‰è€…)</strong></td>
                  <td>é€™ç­†è³‡æ–™çš„ã€Œå‰µå»ºè€…ã€<br><small
                      style="color:var(--gray-400);">ä¸æ˜¯ç¶²ç«™ç®¡ç†å“¡ï¼</small></td>
                  <td>è³‡æ–™ä¸­çš„ <code>userId</code> æ˜¯å¦ç­‰æ–¼ç™»å…¥è€…çš„ ID</td>
                </tr>
                <tr>
                  <td><strong
                      style="color:var(--info);">Logged-in<br>(ç™»å…¥è€…)</strong></td>
                  <td>ä»»ä½•å·²ç™»å…¥çš„æœƒå“¡<br><small
                      style="color:var(--gray-400);">ä¸è«–æ˜¯ä¸æ˜¯è³‡æ–™æ“æœ‰è€…</small></td>
                  <td>è«‹æ±‚æœ‰å¸¶ <code>Authorization: Bearer {token}</code></td>
                </tr>
                <tr>
                  <td><strong
                      style="color:var(--gray-400);">Public<br>(è¨ªå®¢)</strong></td>
                  <td>æ²’æœ‰ç™»å…¥çš„äºº</td>
                  <td>è«‹æ±‚æ²’æœ‰å¸¶ Token</td>
                </tr>
              </table>

              <h5
                style="color:var(--gray-800); margin-bottom:10px;">èˆ‰ä¾‹ï¼šå°æ˜å»ºç«‹äº†ä¸€ç­†æ”¶è—</h5>
              <div class="code-block" style="margin-bottom:15px;">
                {
                "id": 1,
                "userId": "user-A", <span class="comment">// â† é€™å€‹æ¬„ä½æ±ºå®šèª°æ˜¯
                  Owner</span>
                "tripId": "trip-123"
                }
              </div>
              <table class="param-table">
                <tr>
                  <th>èª°åœ¨å­˜å–ï¼Ÿ</th>
                  <th>ä»–æ˜¯ä»€éº¼èº«ä»½ï¼Ÿ</th>
                  <th>/600 æ¬Šé™ä¸‹</th>
                  <th>/640 æ¬Šé™ä¸‹</th>
                </tr>
                <tr>
                  <td><strong>å°æ˜ (user-A)</strong> ç™»å…¥</td>
                  <td style="color:var(--primary-1000);">âœ“ Owner (userId
                    ç›¸ç¬¦)</td>
                  <td style="color:var(--success);">âœ“ å¯è®€å¯«</td>
                  <td style="color:var(--success);">âœ“ å¯è®€å¯«</td>
                </tr>
                <tr>
                  <td><strong>å°è¯ (user-B)</strong> ç™»å…¥</td>
                  <td style="color:var(--info);">â—‹ Logged-in (ä¸æ˜¯ Owner)</td>
                  <td style="color:var(--danger);">âœ— 403 ç¦æ­¢</td>
                  <td style="color:var(--info);">â—‹ å”¯è®€</td>
                </tr>
                <tr>
                  <td>æ²’ç™»å…¥çš„è·¯äºº</td>
                  <td style="color:var(--gray-400);">Public</td>
                  <td style="color:var(--danger);">âœ— 401 æœªç™»å…¥</td>
                  <td style="color:var(--danger);">âœ— 401 æœªç™»å…¥</td>
                </tr>
              </table>
            </div>

            <!-- æ¬Šé™å°ç…§è¡¨ -->
            <table class="param-table" style="margin-bottom:30px;">
              <thead>
                <tr>
                  <th>è·¯ç”±å‰ç¶´</th>
                  <th>è³‡æºæ“æœ‰è€…<br>(Owner)</th>
                  <th>ç™»å…¥è€…<br>(Logged-in)</th>
                  <th>è¨ªå®¢<br>(Public)</th>
                  <th>é©ç”¨å ´æ™¯å»ºè­°</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code
                      style="background:var(--danger); color:#fff; padding:4px 12px; border-radius:4px; font-weight:700;">/600</code></td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--danger);">âœ— ç¦æ­¢è¨ªå•</td>
                  <td style="color:var(--danger);">âœ— ç¦æ­¢è¨ªå•</td>
                  <td><strong>æœ€åš´æ ¼</strong>ã€‚å€‹äººç§éš±ã€å¯†ç¢¼ä¿®æ”¹ã€æˆ‘çš„æ”¶è—</td>
                </tr>
                <tr>
                  <td><code
                      style="background:var(--warning); color:var(--gray-800); padding:4px 12px; border-radius:4px; font-weight:700;">/640</code></td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--info);">â—‹ å”¯è®€</td>
                  <td style="color:var(--danger);">âœ— ç¦æ­¢è¨ªå•</td>
                  <td><strong>åªæœ‰æˆ‘èƒ½æ”¹</strong>ï¼Œä½†å…¶ä»–æœƒå“¡å¯ä»¥çœ‹ï¼ˆå¦‚ï¼šå€‹äººç°¡ä»‹ï¼‰</td>
                </tr>
                <tr>
                  <td><code
                      style="background:var(--info); color:#fff; padding:4px 12px; border-radius:4px; font-weight:700;">/660</code></td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--danger);">âœ— ç¦æ­¢è¨ªå•</td>
                  <td><strong>å…±äº«è³‡æº</strong>ã€‚è¨è«–ç¾¤çµ„ã€å…±åŒç·¨è¼¯çš„è¡Œç¨‹</td>
                </tr>
                <tr>
                  <td><code
                      style="background:var(--success); color:#fff; padding:4px 12px; border-radius:4px; font-weight:700;">/664</code></td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--info);">â—‹ å”¯è®€</td>
                  <td><strong>å…¬é–‹è³‡è¨Š</strong>ã€‚æ—…ç¨‹åˆ—è¡¨ã€å¤§å®¶çš„å›æ†¶ï¼ˆè·¯äººå¯çœ‹ï¼Œæœƒå“¡å¯æ”¹ï¼‰</td>
                </tr>
                <tr>
                  <td><code
                      style="background:var(--gray-400); color:#fff; padding:4px 12px; border-radius:4px; font-weight:700;">ä¸åŠ å‰ç¶´</code></td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td style="color:var(--success);">âœ“ è®€å¯«çš†å¯</td>
                  <td><strong>å…¨å…¬é–‹</strong>ã€‚åŸºç¤æ¨™ç±¤ã€ç³»çµ±é è¨­é¸å–®è³‡æ–™</td>
                </tr>
              </tbody>
            </table>

            <!-- ä½¿ç”¨ç¯„ä¾‹ -->
            <h3 style="margin-bottom:15px; color:var(--primary-1000);">ä½¿ç”¨ç¯„ä¾‹</h3>

            <div class="query-section">
              <h4>/600 - ç§äººè³‡æ–™ (åªæœ‰æ“æœ‰è€…èƒ½å­˜å–)</h4>
              <div class="code-block">
                <span class="comment">// å–å¾—æˆ‘çš„æ”¶è— - éœ€è¦ç™»å…¥ä¸”æ˜¯æ“æœ‰è€…</span>
                GET /600/favorites
                Authorization: Bearer {token}

                <span class="comment">// éŒ¯èª¤ï¼šæœªç™»å…¥æœƒæ”¶åˆ°</span>
                401 Unauthorized

                <span class="comment">// éŒ¯èª¤ï¼šç™»å…¥ä½†ä¸æ˜¯æ“æœ‰è€…æœƒæ”¶åˆ°</span>
                403 Forbidden
              </div>
            </div>

            <div class="query-section">
              <h4>/640 - å€‹äººè³‡æ–™ (æ“æœ‰è€…å¯æ”¹ï¼Œå…¶ä»–æœƒå“¡å¯çœ‹)</h4>
              <div class="code-block">
                <span class="comment">// å–å¾—æŸç”¨æˆ¶çš„å…¬é–‹è³‡æ–™ - ç™»å…¥æœƒå“¡å¯è®€</span>
                GET /640/users/123
                Authorization: Bearer {token}
                <span class="comment">// âœ“ 200 OK</span>

                <span class="comment">// ä¿®æ”¹è‡ªå·±çš„è³‡æ–™ - åªæœ‰æ“æœ‰è€…å¯ä»¥</span>
                PATCH /640/users/123
                Authorization: Bearer {my_token}
                { "intro": "æ–°çš„è‡ªæˆ‘ä»‹ç´¹" }
                <span class="comment">// âœ“ 200 OK (å¦‚æœæ˜¯è‡ªå·±çš„è³‡æ–™)</span>
                <span class="comment">// âœ— 403 Forbidden (å¦‚æœæ˜¯åˆ¥äººçš„è³‡æ–™)</span>
              </div>
            </div>

            <div class="query-section">
              <h4>/660 - å…±äº«è³‡æº (æœƒå“¡çš†å¯è®€å¯«)</h4>
              <div class="code-block">
                <span class="comment">// åœ¨è¨è«–ç¾¤çµ„ç™¼è¨Šæ¯ - ä»»ä½•ç™»å…¥æœƒå“¡éƒ½å¯ä»¥</span>
                POST /660/messages
                Authorization: Bearer {token}
                { "trip_id": "t1", "content": "å¤§å®¶å¥½ï¼" }
                <span class="comment">// âœ“ 201 Created</span>

                <span class="comment">// æœªç™»å…¥å˜—è©¦ç™¼è¨Šæ¯</span>
                POST /660/messages
                { "content": "..." }
                <span class="comment">// âœ— 401 Unauthorized</span>
              </div>
            </div>

            <div class="query-section">
              <h4>/664 - å…¬é–‹è³‡è¨Š (è·¯äººå¯çœ‹ï¼Œæœƒå“¡å¯æ”¹)</h4>
              <div class="code-block">
                <span class="comment">// ç€è¦½æ—…ç¨‹åˆ—è¡¨ - ä¸éœ€ç™»å…¥</span>
                GET /664/trips
                <span class="comment">// âœ“ 200 OK</span>

                <span class="comment">// å»ºç«‹æ–°æ—…ç¨‹ - éœ€è¦ç™»å…¥</span>
                POST /664/trips
                Authorization: Bearer {token}
                { "title": "æ–°æ—…ç¨‹", ... }
                <span class="comment">// âœ“ 201 Created</span>

                <span class="comment">// æœªç™»å…¥å˜—è©¦å»ºç«‹</span>
                POST /664/trips
                { "title": "..." }
                <span class="comment">// âœ— 401 Unauthorized</span>
              </div>
            </div>

            <div class="query-section">
              <h4>ä¸åŠ å‰ç¶´ - å®Œå…¨å…¬é–‹</h4>
              <div class="code-block">
                <span class="comment">// å–å¾—åˆ†é¡åˆ—è¡¨ - ä»»ä½•äººéƒ½å¯ä»¥</span>
                GET /categories
                <span class="comment">// âœ“ 200 OK</span>

                <span class="comment">// æ³¨æ„ï¼šé€™è¡¨ç¤ºä»»ä½•äººéƒ½èƒ½æ–°å¢/ä¿®æ”¹/åˆªé™¤ï¼</span>
                <span class="comment">// åªé©åˆç”¨æ–¼ç³»çµ±é è¨­çš„å”¯è®€è³‡æ–™</span>
              </div>
            </div>

            <!-- å¸¸è¦‹éŒ¯èª¤ -->
            <h3 style="margin:30px 0 15px; color:var(--danger);">å¸¸è¦‹éŒ¯èª¤èˆ‡è§£æ±ºæ–¹å¼</h3>
            <div class="status-codes">
              <div class="status-code">
                <span class="code client-error">401</span>
                <div class="name">Unauthorized</div>
                <div class="desc">æœªæä¾› Token æˆ– Token å·²éæœŸ</div>
                <div class="usage">
                  <strong>è§£æ±ºæ–¹å¼:</strong><br>
                  1. ç¢ºèªè«‹æ±‚æœ‰åŠ ä¸Š <code>Authorization: Bearer {token}</code><br>
                  2. æª¢æŸ¥ Token æ˜¯å¦éæœŸï¼Œé‡æ–°ç™»å…¥å–å¾—æ–° Token
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">403</span>
                <div class="name">Forbidden</div>
                <div class="desc">å·²ç™»å…¥ä½†æ²’æœ‰æ¬Šé™å­˜å–æ­¤è³‡æº</div>
                <div class="usage">
                  <strong>è§£æ±ºæ–¹å¼:</strong><br>
                  1. ç¢ºèªæ˜¯å¦ç‚ºè³‡æºæ“æœ‰è€…<br>
                  2. æª¢æŸ¥è·¯ç”±å‰ç¶´æ¬Šé™è¨­å®š<br>
                  3. ç¢ºèª userId æ˜¯å¦èˆ‡è³‡æºçš„ owner_id åŒ¹é…
                </div>
              </div>
            </div>

            <!-- routes.json è¨­å®š -->
            <h3
              style="margin:30px 0 15px; color:var(--primary-1000);">routes.json
              è¨­å®šç¯„ä¾‹</h3>
            <div class="code-block">
              {
              <span class="comment">// ç§äººè³‡æ–™</span>
              "/600/favorites/*": "/favorites/$1",
              "/600/my-settings": "/settings",

              <span class="comment">// å€‹äººè³‡æ–™ (ä»–äººå¯çœ‹)</span>
              "/640/users/*": "/users/$1",
              "/640/profiles/*": "/profiles/$1",

              <span class="comment">// å…±äº«è³‡æº</span>
              "/660/messages/*": "/messages/$1",
              "/660/itineraries/*": "/itineraries/$1",

              <span class="comment">// å…¬é–‹è³‡è¨Š</span>
              "/664/trips/*": "/trips/$1",
              "/664/reviews/*": "/reviews/$1"
              }
            </div>
          </div>
        </div>
      </div>

      <!-- HTTP Status Codes Section -->
      <div id="status-codes" class="api-list">
        <div class="section">
          <div class="section-header">
            <h2>HTTP ç‹€æ…‹ç¢¼èªªæ˜</h2>
            <p>äº†è§£ API å›æ‡‰çš„å„ç¨®ç‹€æ…‹ç¢¼åŠå…¶ä½¿ç”¨æƒ…å¢ƒ</p>
          </div>
          <div class="section-content">
            <!-- 2xx Success -->
            <h3 style="margin-bottom:15px; color:var(--success);">2xx æˆåŠŸå›æ‡‰</h3>
            <div class="status-codes" style="margin-bottom:30px;">
              <div class="status-code">
                <span class="code success">200</span>
                <div class="name">OK</div>
                <div class="desc">è«‹æ±‚æˆåŠŸï¼Œä¼ºæœå™¨å›å‚³äº†è«‹æ±‚çš„è³‡æ–™</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> GET è«‹æ±‚æˆåŠŸå–å¾—è³‡æ–™ã€PUT/PATCH æ›´æ–°æˆåŠŸã€DELETE åˆªé™¤æˆåŠŸ
                </div>
              </div>
              <div class="status-code">
                <span class="code success">201</span>
                <div class="name">Created</div>
                <div class="desc">æˆåŠŸå»ºç«‹æ–°è³‡æº</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> POST è«‹æ±‚æˆåŠŸå»ºç«‹æ–°è³‡æ–™ (å¦‚æ–°å¢ä½¿ç”¨è€…ã€å»ºç«‹æ—…ç¨‹)
                </div>
              </div>
              <div class="status-code">
                <span class="code success">204</span>
                <div class="name">No Content</div>
                <div class="desc">è«‹æ±‚æˆåŠŸä½†æ²’æœ‰å›å‚³å…§å®¹</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> DELETE æˆåŠŸå¾Œä¸éœ€å›å‚³è³‡æ–™
                </div>
              </div>
            </div>

            <!-- 3xx Redirect -->
            <h3 style="margin-bottom:15px; color:var(--warning);">3xx é‡å°å‘</h3>
            <div class="status-codes" style="margin-bottom:30px;">
              <div class="status-code">
                <span class="code redirect">301</span>
                <div class="name">Moved Permanently</div>
                <div class="desc">è³‡æºå·²æ°¸ä¹…ç§»å‹•åˆ°æ–°ä½ç½®</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> API ç«¯é»å·²æ›´æ”¹ï¼Œéœ€æ›´æ–°ç‚ºæ–°ç¶²å€
                </div>
              </div>
              <div class="status-code">
                <span class="code redirect">304</span>
                <div class="name">Not Modified</div>
                <div class="desc">è³‡æºæœªä¿®æ”¹ï¼Œå¯ä½¿ç”¨å¿«å–ç‰ˆæœ¬</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> æ­é… If-Modified-Since æ¨™é ­ä½¿ç”¨ï¼Œç¯€çœé »å¯¬
                </div>
              </div>
            </div>

            <!-- 4xx Client Error -->
            <h3 style="margin-bottom:15px; color:var(--danger);">4xx å®¢æˆ¶ç«¯éŒ¯èª¤</h3>
            <div class="status-codes" style="margin-bottom:30px;">
              <div class="status-code">
                <span class="code client-error">400</span>
                <div class="name">Bad Request</div>
                <div class="desc">è«‹æ±‚æ ¼å¼éŒ¯èª¤ï¼Œä¼ºæœå™¨ç„¡æ³•ç†è§£</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> JSON æ ¼å¼éŒ¯èª¤ã€ç¼ºå°‘å¿…è¦æ¬„ä½ã€è³‡æ–™å‹æ…‹éŒ¯èª¤<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> æª¢æŸ¥è«‹æ±‚çš„ Body æ ¼å¼æ˜¯å¦æ­£ç¢º
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">401</span>
                <div class="name">Unauthorized</div>
                <div class="desc">æœªç¶“æˆæ¬Šï¼Œéœ€è¦ç™»å…¥é©—è­‰</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> æœªæä¾› Token æˆ– Token å·²éæœŸ<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> é‡æ–°ç™»å…¥å–å¾—æ–°çš„ Token
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">403</span>
                <div class="name">Forbidden</div>
                <div class="desc">æ‹’çµ•å­˜å–ï¼Œæ²’æœ‰æ¬Šé™</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> å˜—è©¦å­˜å–ä»–äººè³‡æ–™ã€éç®¡ç†å“¡æ“ä½œç®¡ç†åŠŸèƒ½<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> ç¢ºèªå¸³è™Ÿæ¬Šé™æ˜¯å¦è¶³å¤ 
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">404</span>
                <div class="name">Not Found</div>
                <div class="desc">æ‰¾ä¸åˆ°è«‹æ±‚çš„è³‡æº</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> ID ä¸å­˜åœ¨ã€ç«¯é»ç¶²å€éŒ¯èª¤<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> ç¢ºèª ID æ˜¯å¦æ­£ç¢ºã€æª¢æŸ¥ URL æ‹¼å¯«
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">409</span>
                <div class="name">Conflict</div>
                <div class="desc">è«‹æ±‚èˆ‡ä¼ºæœå™¨ç‹€æ…‹è¡çª</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> Email å·²è¢«è¨»å†Šã€é‡è¤‡å ±åç›¸åŒæ—…ç¨‹<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> ä½¿ç”¨ä¸åŒçš„è³‡æ–™æˆ–å…ˆåˆªé™¤è¡çªè³‡æº
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">422</span>
                <div class="name">Unprocessable Entity</div>
                <div class="desc">è«‹æ±‚æ ¼å¼æ­£ç¢ºä½†èªæ„éŒ¯èª¤</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> é©—è­‰å¤±æ•— (å¦‚å¯†ç¢¼å¤ªçŸ­ã€Email æ ¼å¼éŒ¯èª¤)<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> æ ¹æ“šéŒ¯èª¤è¨Šæ¯ä¿®æ­£è³‡æ–™
                </div>
              </div>
              <div class="status-code">
                <span class="code client-error">429</span>
                <div class="name">Too Many Requests</div>
                <div class="desc">è«‹æ±‚æ¬¡æ•¸éå¤šï¼Œè¢«é™æµ</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> çŸ­æ™‚é–“å…§ç™¼é€å¤ªå¤šè«‹æ±‚<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> ç­‰å¾…ä¸€æ®µæ™‚é–“å¾Œå†é‡è©¦
                </div>
              </div>
            </div>

            <!-- 5xx Server Error -->
            <h3 style="margin-bottom:15px; color:#ad1457;">5xx ä¼ºæœå™¨éŒ¯èª¤</h3>
            <div class="status-codes">
              <div class="status-code">
                <span class="code server-error">500</span>
                <div class="name">Internal Server Error</div>
                <div class="desc">ä¼ºæœå™¨å…§éƒ¨éŒ¯èª¤</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> ä¼ºæœå™¨ç«¯ç¨‹å¼éŒ¯èª¤<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> å›å ±çµ¦å¾Œç«¯é–‹ç™¼äººå“¡
                </div>
              </div>
              <div class="status-code">
                <span class="code server-error">502</span>
                <div class="name">Bad Gateway</div>
                <div class="desc">é–˜é“éŒ¯èª¤</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> ä»£ç†ä¼ºæœå™¨ç„¡æ³•å–å¾—æœ‰æ•ˆå›æ‡‰<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> ç­‰å¾…ä¼ºæœå™¨æ¢å¾©æˆ–è¯ç¹«ç¶­é‹äººå“¡
                </div>
              </div>
              <div class="status-code">
                <span class="code server-error">503</span>
                <div class="name">Service Unavailable</div>
                <div class="desc">æœå‹™æš«æ™‚ä¸å¯ç”¨</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> ä¼ºæœå™¨ç¶­è­·ä¸­æˆ–éè¼‰<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> ç¨å¾Œå†è©¦
                </div>
              </div>
              <div class="status-code">
                <span class="code server-error">504</span>
                <div class="name">Gateway Timeout</div>
                <div class="desc">é–˜é“é€¾æ™‚</div>
                <div class="usage">
                  <strong>ä½¿ç”¨æƒ…å¢ƒ:</strong> ä¸Šæ¸¸ä¼ºæœå™¨å›æ‡‰é€¾æ™‚<br>
                  <strong>è§£æ±ºæ–¹å¼:</strong> æª¢æŸ¥ç¶²è·¯ç‹€æ³æˆ–ç¨å¾Œå†è©¦
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Common Parameters Section -->
      <div id="common-params" class="api-list">
        <div class="section">
          <div class="section-header">
            <h2>é€šç”¨æŸ¥è©¢åƒæ•¸</h2>
            <p>json-server æ”¯æ´çš„æŸ¥è©¢åƒæ•¸ï¼Œé©ç”¨æ–¼æ‰€æœ‰ GET è«‹æ±‚</p>
          </div>
          <div class="section-content">
            <!-- åˆ†é  -->
            <div class="query-section">
              <h4>åˆ†é  (Pagination)</h4>
              <table class="param-table">
                <tr><th>åƒæ•¸</th><th>èªªæ˜</th><th>ç¯„ä¾‹</th></tr>
                <tr>
                  <td><code>_page</code></td>
                  <td>é ç¢¼ (å¾ 1 é–‹å§‹)</td>
                  <td><code>?_page=1</code></td>
                </tr>
                <tr>
                  <td><code>_limit</code></td>
                  <td>æ¯é ç­†æ•¸ (é è¨­ 10)</td>
                  <td><code>?_limit=20</code></td>
                </tr>
              </table>
              <div class="code-block">
                <span class="comment">// å–å¾—ç¬¬ 2 é ï¼Œæ¯é  10 ç­†</span>
                GET /trips?_page=2&_limit=10

                <span class="comment">// Response Headers æœƒåŒ…å«ç¸½ç­†æ•¸</span>
                X-Total-Count: 30
              </div>
            </div>

            <!-- æ’åº -->
            <div class="query-section">
              <h4>æ’åº (Sorting)</h4>
              <table class="param-table">
                <tr><th>åƒæ•¸</th><th>èªªæ˜</th><th>ç¯„ä¾‹</th></tr>
                <tr>
                  <td><code>_sort</code></td>
                  <td>æ’åºæ¬„ä½</td>
                  <td><code>?_sort=created_at</code></td>
                </tr>
                <tr>
                  <td><code>_order</code></td>
                  <td>æ’åºæ–¹å‘ (asc å‡å†ª / desc é™å†ª)</td>
                  <td><code>?_order=desc</code></td>
                </tr>
              </table>
              <div class="code-block">
                <span class="comment">// ä¾å»ºç«‹æ™‚é–“é™å†ªæ’åº (æœ€æ–°åœ¨å‰)</span>
                GET /trips?_sort=created_at&_order=desc

                <span class="comment">// å¤šæ¬„ä½æ’åº</span>
                GET /trips?_sort=price,created_at&_order=asc,desc
              </div>
            </div>

            <!-- åˆ‡ç‰‡ -->
            <div class="query-section">
              <h4>åˆ‡ç‰‡ (Slice)</h4>
              <table class="param-table">
                <tr><th>åƒæ•¸</th><th>èªªæ˜</th><th>ç¯„ä¾‹</th></tr>
                <tr>
                  <td><code>_start</code></td>
                  <td>èµ·å§‹ç´¢å¼• (å¾ 0 é–‹å§‹)</td>
                  <td><code>?_start=0</code></td>
                </tr>
                <tr>
                  <td><code>_end</code></td>
                  <td>çµæŸç´¢å¼• (ä¸å«)</td>
                  <td><code>?_end=10</code></td>
                </tr>
              </table>
              <div class="code-block">
                <span class="comment">// å–å¾—å‰ 10 ç­†</span>
                GET /trips?_start=0&_end=10

                <span class="comment">// å–å¾—ç¬¬ 11-20 ç­†</span>
                GET /trips?_start=10&_end=20
              </div>
            </div>

            <!-- ç¯©é¸ -->
            <div class="query-section">
              <h4>ç¯©é¸ (Filtering)</h4>
              <table class="param-table">
                <tr><th>åƒæ•¸</th><th>èªªæ˜</th><th>ç¯„ä¾‹</th></tr>
                <tr>
                  <td><code>{field}</code></td>
                  <td>å®Œå…¨ç¬¦åˆ</td>
                  <td><code>?status=open</code></td>
                </tr>
                <tr>
                  <td><code>{field}_like</code></td>
                  <td>æ¨¡ç³Šæœå°‹ (æ”¯æ´ RegExp)</td>
                  <td><code>?title_like=å°åŒ—</code></td>
                </tr>
                <tr>
                  <td><code>{field}_gte</code></td>
                  <td>å¤§æ–¼ç­‰æ–¼</td>
                  <td><code>?price_gte=100</code></td>
                </tr>
                <tr>
                  <td><code>{field}_lte</code></td>
                  <td>å°æ–¼ç­‰æ–¼</td>
                  <td><code>?price_lte=1000</code></td>
                </tr>
                <tr>
                  <td><code>{field}_ne</code></td>
                  <td>ä¸ç­‰æ–¼</td>
                  <td><code>?status_ne=cancelled</code></td>
                </tr>
                <tr>
                  <td><code>q</code></td>
                  <td>å…¨æ–‡æœå°‹</td>
                  <td><code>?q=ç™»å±±</code></td>
                </tr>
              </table>
              <div class="code-block">
                <span class="comment">// æœå°‹åƒ¹æ ¼ 500~2000 çš„é–‹æ”¾ä¸­æ—…ç¨‹</span>
                GET /trips?status=open&price_gte=500&price_lte=2000

                <span class="comment">// æ¨¡ç³Šæœå°‹æ¨™é¡Œå«æœ‰ã€Œå°åŒ—ã€</span>
                GET /trips?title_like=å°åŒ—

                <span class="comment">// å…¨æ–‡æœå°‹ã€Œæ½›æ°´ã€</span>
                GET /trips?q=æ½›æ°´
              </div>
            </div>

            <!-- é—œè¯ -->
            <div class="query-section">
              <h4>é—œè¯è³‡æº (Relationships)</h4>
              <table class="param-table">
                <tr><th>åƒæ•¸</th><th>èªªæ˜</th><th>ç¯„ä¾‹</th></tr>
                <tr>
                  <td><code>_expand</code></td>
                  <td>å±•é–‹çˆ¶è³‡æº (æ ¹æ“š {resource}_id)</td>
                  <td><code>?_expand=owner</code></td>
                </tr>
                <tr>
                  <td><code>_embed</code></td>
                  <td>åµŒå…¥å­è³‡æº</td>
                  <td><code>?_embed=itineraries</code></td>
                </tr>
              </table>
              <div class="code-block">
                <span class="comment">// å–å¾—æ—…ç¨‹ä¸¦å±•é–‹ä¸»è¾¦è€…è³‡è¨Š</span>
                GET /trips/t1?_expand=owner

                <span class="comment">// å–å¾—æ—…ç¨‹ä¸¦åµŒå…¥æ‰€æœ‰è¡Œç¨‹</span>
                GET /trips/t1?_embed=itineraries
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- API Endpoints Section -->
      <div id="api-endpoints" class="api-list">
        <div class="section">
          <div class="section-header">
            <h2>API ç«¯é»åˆ—è¡¨</h2>
            <p>æ ¹æ“š db.json è‡ªå‹•ç”¢ç”Ÿçš„æ‰€æœ‰ RESTful API ç«¯é»</p>
          </div>
          <div class="section-content" id="endpointsContainer">
            <p style="text-align:center; padding:40px; color:var(--gray-400);">
              è¼‰å…¥ä¸­...
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
    // å…§åµŒçš„ db.json è³‡æ–™ (å¯è‡ªè¡Œä¿®æ”¹è·¯å¾‘æˆ–å…§å®¹)
    const embeddedDB = {
      "users": [
        {"id":"7f3b89b1-7c5e-4b2a-9e1d-4d5f6a7b8c9d","role":"admin","name":"ç³»çµ±ç®¡ç†å“¡","email":"admin@trips.com","email_verified":true,"password":"$2a$10$50myH1zzVUMXHPxL9LW7Mu1t86LPG.45cX6PbpUJ/5mz9eErHNYSK","google_id":null,"line_id":null,"phone":"0912345678","phone_verified":true,"avatar":"https://api.dicebear.com/7.x/avataaars/svg?seed=admin","intro":"æˆ‘æ˜¯å¹³å°çš„ç³»çµ±ç®¡ç†å“¡ï¼Œè² è²¬ç¶­è­·ç¤¾ç¾¤ç§©åºã€‚","status":"active","blocked_reason":null,"trust_score":100,"trips_created":0,"trips_joined":0,"trips_completed":0,"rating_average":5,"last_login_at":"2025-12-31T08:00:00Z","created_at":"2025-12-01T10:00:00Z","updated_at":"2025-12-31T11:00:00Z","deleted_at":null,"is_verified_host":1},
        {"id":"a1b2c3d4-e5f6-4a5b-bcde-f1e2d3c4b5a6","role":"member","name":"å°æ˜æ„›æ—…è¡Œ","email":"ming@example.com","email_verified":true,"password":"$2a$10$50myH1zzVUMXHPxL9LW7Mu1t86LPG.45cX6PbpUJ/5mz9eErHNYSK","google_id":"google-123456789","line_id":"line-ming","phone":"0987654321","phone_verified":true,"avatar":"https://api.dicebear.com/7.x/avataaars/svg?seed=ming","intro":"å–œæ­¡çˆ¬å±±è·Ÿæ”å½±ï¼Œå¸Œæœ›èƒ½åœ¨é€™è£¡èªè­˜å¿—åŒé“åˆçš„æœ‹å‹ï¼","status":"active","blocked_reason":null,"trust_score":90,"trips_created":3,"trips_joined":2,"trips_completed":2,"rating_average":4.8,"last_login_at":"2025-12-30T22:00:00Z","created_at":"2025-12-15T15:30:00Z","updated_at":"2025-12-15T15:30:00Z","deleted_at":null,"is_verified_host":1}
      ],
      "trips": [
        {"id":"e9a8b7c6-d5e4-4f3a-b2c1-d0e9a8b7c6d5","owner_id":"a1b2c3d4-e5f6-4a5b-bcde-f1e2d3c4b5a6","title":"2026 è·¨å¹´ 101 ç…™ç«åœ˜","host_rating":4.8,"cancellation_policy":"å‡ºç™¼å‰ 3 å¤©å¯å…¨é¡é€€è²»ï¼Œå¦å‰‡æ‰£ 50%","location":"å°åŒ—å¸‚ ä¿¡ç¾©å€","meeting_point":"å¸‚æ”¿åºœæ·é‹ç«™ 3 è™Ÿå‡ºå£","start_date":"2025-12-31","end_date":"2026-01-01","deadline":"2025-12-30","price":500,"current_participants":4,"max_people":10,"category":"æ…¶ç¥","tags":["è·¨å¹´","ç…™ç«","å°åŒ—101","æ´¾å°"],"vibe_text":"ç†±é¬§æ­¡æ¨‚ï¼Œå¤§å®¶ä¸€èµ·æ•¸ 54321ï¼","vibe_tags":["æ´¾å°æ°£æ°›","é›¶é£Ÿä¾›æ‡‰","å¹´è¼•æ´»åŠ›"],"image_url":"https://images.unsplash.com/photo-1505935428862-770b6f24f629?q=80&w=800","views":250,"is_featured":true,"status":"open","blocked_reason":null,"description":"ä¸€èµ·å»ä¿¡ç¾©å€çœ‹ç…™ç«ï¼è²»ç”¨åŒ…å«é›¶é£Ÿèˆ‡é£²æ–™ã€‚","created_at":"2025-12-20T08:00:00Z","updated_at":"2025-12-20T08:00:00Z","deleted_at":null,"owner_name":"å°æ˜æ„›æ—…è¡Œ","owner_avatar":"https://api.dicebear.com/7.x/avataaars/svg?seed=ming","owner_is_verified_host":1,"related_images":["https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?q=80&w=800","https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?q=80&w=800","https://images.unsplash.com/photo-1546069901-ba9599a7e63c?q=80&w=800"]},
        {"id":"15308631-ce36-4175-9536-2c2060dbf2af","owner_id":"u2f3a4b5-c6d7-e8f9-a0b1-2345678901bc","title":"ç¶ å³¶çŸ³æœ—æ½›æ°´åœ˜","host_rating":4.9,"cancellation_policy":"ä¸é€€è²»ï¼Œä½†å¯è½‰è®“","location":"å°æ±ç¸£ ç¶ å³¶é„‰","meeting_point":"å—å¯®æ¼æ¸¯","start_date":"2026-01-15","end_date":"2026-01-17","deadline":"2026-01-10","price":6000,"current_participants":2,"max_people":4,"category":"æ½›æ°´","tags":["æ½›æ°´","ç¶ å³¶","æµ·æ´‹"],"vibe_text":"è¼•é¬†æ½›æ°´ï¼Œæ™šä¸Šä¸€èµ·åƒç‡’çƒ¤ã€‚","image_url":"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=800","views":180,"status":"open","created_at":"2025-12-28T10:00:00Z","owner_name":"æ½›æ°´å“¡é˜¿å¼·","owner_avatar":"https://api.dicebear.com/7.x/avataaars/svg?seed=john","owner_is_verified_host":1,"related_images":["https://images.unsplash.com/photo-1505118380757-91f5f5632de0?q=80&w=800","https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?q=80&w=800","https://images.unsplash.com/photo-1559825481-12a05cc00344?q=80&w=800"]}
      ],
      "itineraries": [
        {"id":"35a71244-be78-47bb-b148-ae3d03f4b97c","trip_id":"e9a8b7c6-d5e4-4f3a-b2c1-d0e9a8b7c6d5","day":1,"time":"08:00","type":"activity","icon":"âœï¸","title":"å…¥å ´ç°½åˆ°","location_lat":25.854958813555903,"location_lng":122.47368336616483,"note":"é ˜å–å°ç¦®ç‰©","updated_at":"2026-02-05T16:11:09.268639","deleted_at":null},
        {"id":"d39f207f-c55d-459c-957a-d8fe26737197","trip_id":"e9a8b7c6-d5e4-4f3a-b2c1-d0e9a8b7c6d5","day":1,"time":"11:00","type":"food","icon":"ğŸ¥‚","title":"é–‹å ´èˆ‡ä¹¾æ¯","location_lat":25.71477954410699,"location_lng":121.53364512085655,"note":"è€é—†è«‹å®¢","updated_at":"2026-02-05T16:11:09.268639","deleted_at":null}
      ],
      "applications": [],
      "participants": [],
      "reviews": [],
      "messages": [],
      "notifications": [],
      "reports": [],
      "site_feedbacks": [
        {"id":"ff2470c6-3e41-4701-901e-6b9809f38002","user_id":"u4b5c6d7-e8f9-a0b1-c2d3-4567890123de","contact_email":"luke@test.com","rating":3,"content":"ä»‹é¢å¾ˆæ¸…çˆ½ï¼Œæ“ä½œä¹Ÿå¾ˆç›´è¦ºï¼","is_public":true,"created_at":"2026-02-05T16:11:09.270168"},
        {"id":"aec0cd4e-712f-4b71-b1fd-c43ec6d20c5b","user_id":"b2c3d4e5-f6a7-4b8c-9d0e-1f2a3b4c5d6e","contact_email":"irene@example.com","rating":4,"content":"å¸Œæœ›èƒ½å¢åŠ æ›´å¤šç™»å±±åœ˜ï¼Œå¾ˆå–œæ­¡é€™å€‹å¹³å°ã€‚","is_public":true,"created_at":"2026-02-05T16:11:09.270168"}
      ],
      "categories": [
        {"id":"e8d7c6b5-a4b3-4c2d-9e1d-4d5f6a7b8c9d","name":"ç™»å±±","icon":"â›°ï¸","sort_order":1,"created_at":"2025-12-01T00:00:00Z","updated_at":"2025-12-01T00:00:00Z","deleted_at":null},
        {"id":"f1e2d3c4-b5a6-4b7c-8d9e-0f1a2b3c4d5e","name":"æ‰‹ä½œé«”é©—","icon":"ğŸ¨","sort_order":2,"created_at":"2025-12-01T00:00:00Z","updated_at":"2025-12-01T00:00:00Z","deleted_at":null}
      ]
    };

    // é é¢è¼‰å…¥æ™‚è‡ªå‹•ç”Ÿæˆ API ç«¯é»
    document.addEventListener('DOMContentLoaded', () => {
      generateEndpoints(embeddedDB);
      document.getElementById('loadStatus').textContent = `å·²è¼‰å…¥ ${Object.keys(embeddedDB).length} å€‹è³‡æº`;
      document.getElementById('loadStatus').className = 'status loaded';
    });

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.api-list').forEach(l => l.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });

    // File loading
    document.getElementById('fileInput').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = (event) => {
        try {
          const db = JSON.parse(event.target.result);
          generateEndpoints(db);
          document.getElementById('loadStatus').textContent = `å·²è¼‰å…¥ ${Object.keys(db).length} å€‹è³‡æº`;
          document.getElementById('loadStatus').className = 'status loaded';

          // Auto switch to endpoints tab
          document.querySelector('[data-tab="api-endpoints"]').click();
        } catch (err) {
          alert('JSON è§£æéŒ¯èª¤: ' + err.message);
        }
      };
      reader.readAsText(file);
    });

    function generateEndpoints(db) {
      const container = document.getElementById('endpointsContainer');
      let html = '';

      for (const resource of Object.keys(db)) {
        const data = db[resource];
        const fields = data.length > 0 ? Object.keys(data[0]) : [];
        const sampleItem = data.length > 0 ? data[0] : {};

        html += `
          <h3 style="margin:20px 0 15px; color:var(--primary-1000); text-transform:capitalize;">
            ${resource} <span style="font-weight:normal; color:var(--gray-400);">(${data.length} ç­†)</span>
          </h3>
        `;

        // GET all
        html += createEndpoint('GET', `/${resource}`, 'å–å¾—æ‰€æœ‰è³‡æ–™', `
          <p><strong>æŸ¥è©¢åƒæ•¸:</strong></p>
          <div class="query-example">
            <span class="query-tag">?_page=1&_limit=10</span>
            <span class="query-tag">?_sort=created_at&_order=desc</span>
            ${fields.includes('status') ? '<span class="query-tag">?status=active</span>' : ''}
          </div>
          <p style="margin-top:15px;"><strong>å›æ‡‰ç¯„ä¾‹:</strong> <code>200 OK</code></p>
          <div class="code-block"><span class="comment">// response.data ç›´æ¥æ˜¯é™£åˆ—</span>
${syntaxHighlight(data.slice(0, 2))}</div>
          <p style="margin-top:10px; font-size:13px; color:var(--gray-600);">
            <strong>å–å€¼ï¼š</strong> <code>const ${resource} = response.data;</code><br>
            <strong>ç¸½æ•¸ï¼š</strong> <code>response.headers['x-total-count']</code>
          </p>
        `);

        // GET one
        const singularName = resource.endsWith('s') ? resource.slice(0, -1) : resource;
        html += createEndpoint('GET', `/${resource}/{id}`, 'å–å¾—å–®ä¸€è³‡æ–™', `
          <p><strong>è·¯å¾‘åƒæ•¸:</strong></p>
          <table class="param-table">
            <tr><th>åƒæ•¸</th><th>é¡å‹</th><th>èªªæ˜</th></tr>
            <tr><td>id</td><td class="type">string</td><td>è³‡æº ID</td></tr>
          </table>
          <p style="margin-top:15px;"><strong>å›æ‡‰ç¯„ä¾‹:</strong> <code>200 OK</code></p>
          <div class="code-block"><span class="comment">// response.data ç›´æ¥æ˜¯ç‰©ä»¶</span>
${syntaxHighlight(sampleItem)}</div>
          <p style="margin-top:10px; font-size:13px; color:var(--gray-600);">
            <strong>å–å€¼ï¼š</strong> <code>const ${singularName} = response.data;</code><br>
            <strong>å±¬æ€§ï¼š</strong> <code>${singularName}.${fields[1] || 'name'}</code>
          </p>
          <p style="margin-top:15px;"><strong>éŒ¯èª¤å›æ‡‰:</strong> <code>404 Not Found</code></p>
          <div class="code-block"><span class="comment">// ID ä¸å­˜åœ¨æ™‚å›å‚³ç©ºç‰©ä»¶</span>
{}

<span class="comment">// åˆ¤æ–·æ–¹å¼</span>
<span class="key">if</span> (Object.keys(response.data).length === <span class="number">0</span>) {
  console.log(<span class="string">'æ‰¾ä¸åˆ°è³‡æ–™'</span>);
}</div>
        `);

        // POST
        const postBody = {};
        fields.forEach(f => {
          if (f !== 'id' && f !== 'created_at' && f !== 'updated_at') {
            postBody[f] = sampleItem[f];
          }
        });
        const postResponse = { id: 'auto-generated-id', ...postBody };
        html += createEndpoint('POST', `/${resource}`, 'å»ºç«‹æ–°è³‡æ–™', `
          <p><strong>è«‹æ±‚ Body:</strong></p>
          <div class="code-block">${syntaxHighlight(postBody)}</div>
          <p style="margin-top:15px;"><strong>æˆåŠŸå›æ‡‰:</strong> <code>201 Created</code></p>
          <div class="code-block"><span class="comment">// å›å‚³æ–°å»ºç«‹çš„å®Œæ•´è³‡æ–™ (å«è‡ªå‹•ç”¢ç”Ÿçš„ id)</span>
${syntaxHighlight(postResponse)}</div>
          <p style="margin-top:10px; font-size:13px; color:var(--gray-600);">
            <strong>å–å¾—æ–° IDï¼š</strong> <code>const newId = response.data.id;</code>
          </p>
          <p style="margin-top:15px;"><strong>éŒ¯èª¤å›æ‡‰:</strong></p>
          <ul style="margin-left:20px; color:var(--gray-600);">
            <li><code>400</code> - JSON æ ¼å¼éŒ¯èª¤</li>
            <li><code>401</code> - æœªç™»å…¥ (éœ€è¦ Token)</li>
            <li><code>422</code> - é©—è­‰å¤±æ•— (ç¼ºå°‘å¿…è¦æ¬„ä½)</li>
          </ul>
        `);

        // PUT
        html += createEndpoint('PUT', `/${resource}/{id}`, 'å®Œæ•´æ›´æ–°è³‡æ–™', `
          <p><strong>èªªæ˜:</strong> æœƒå®Œå…¨å–ä»£ç¾æœ‰è³‡æ–™ï¼Œæœªæä¾›çš„æ¬„ä½æœƒè¢«åˆªé™¤</p>
          <p><strong>è«‹æ±‚ Body:</strong> å®Œæ•´çš„è³‡æºç‰©ä»¶</p>
          <div class="code-block">${syntaxHighlight(sampleItem)}</div>
          <p style="margin-top:15px;"><strong>æˆåŠŸå›æ‡‰:</strong> <code>200 OK</code></p>
          <p style="margin-top:10px; font-size:13px; color:var(--gray-600);">
            <strong>å–å€¼ï¼š</strong> <code>const updated = response.data;</code>
          </p>
          <p style="margin-top:15px;"><strong>éŒ¯èª¤å›æ‡‰:</strong></p>
          <ul style="margin-left:20px; color:var(--gray-600);">
            <li><code>401</code> - æœªç™»å…¥</li>
            <li><code>403</code> - æ²’æœ‰æ¬Šé™</li>
            <li><code>404</code> - ID ä¸å­˜åœ¨</li>
          </ul>
        `);

        // PATCH
        const patchExample = {};
        patchExample[fields[1] || 'name'] = 'æ–°çš„å€¼';
        const patchResponse = { ...sampleItem };
        patchResponse[fields[1] || 'name'] = 'æ–°çš„å€¼';
        html += createEndpoint('PATCH', `/${resource}/{id}`, 'éƒ¨åˆ†æ›´æ–°è³‡æ–™', `
          <p><strong>èªªæ˜:</strong> åªæ›´æ–°æä¾›çš„æ¬„ä½ï¼Œå…¶ä»–æ¬„ä½ä¿æŒä¸è®Š</p>
          <p><strong>è«‹æ±‚ Body ç¯„ä¾‹:</strong></p>
          <div class="code-block">${syntaxHighlight(patchExample)}</div>
          <p style="margin-top:15px;"><strong>æˆåŠŸå›æ‡‰:</strong> <code>200 OK</code></p>
          <div class="code-block"><span class="comment">// å›å‚³æ›´æ–°å¾Œçš„å®Œæ•´è³‡æ–™</span>
${syntaxHighlight(patchResponse)}</div>
          <p style="margin-top:10px; font-size:13px; color:var(--gray-600);">
            <strong>å–å€¼ï¼š</strong> <code>const updated${singularName.charAt(0).toUpperCase() + singularName.slice(1)} = response.data;</code>
          </p>
          <p style="margin-top:15px;"><strong>éŒ¯èª¤å›æ‡‰:</strong></p>
          <ul style="margin-left:20px; color:var(--gray-600);">
            <li><code>401</code> - æœªç™»å…¥</li>
            <li><code>403</code> - æ²’æœ‰æ¬Šé™ (ä¸æ˜¯è³‡æºæ“æœ‰è€…)</li>
            <li><code>404</code> - ID ä¸å­˜åœ¨</li>
          </ul>
        `);

        // DELETE
        html += createEndpoint('DELETE', `/${resource}/{id}`, 'åˆªé™¤è³‡æ–™', `
          <p><strong>æˆåŠŸå›æ‡‰:</strong> <code>200 OK</code></p>
          <div class="code-block"><span class="comment">// å›å‚³ç©ºç‰©ä»¶</span>
{}

<span class="comment">// å‰ç«¯åˆ¤æ–·åˆªé™¤æˆåŠŸ</span>
<span class="key">const</span> response = <span class="key">await</span> axios.delete(<span class="string">\`/${resource}/\${id}\`</span>);
<span class="key">if</span> (response.status === <span class="number">200</span>) {
  console.log(<span class="string">'åˆªé™¤æˆåŠŸ'</span>);
}</div>
          <p style="margin-top:15px;"><strong>éŒ¯èª¤å›æ‡‰:</strong></p>
          <ul style="margin-left:20px; color:var(--gray-600);">
            <li><code>401</code> - æœªç™»å…¥</li>
            <li><code>403</code> - æ²’æœ‰æ¬Šé™ (ä¸æ˜¯è³‡æºæ“æœ‰è€…)</li>
            <li><code>404</code> - ID ä¸å­˜åœ¨</li>
          </ul>
        `);

        // Schema
        html += `
          <div style="background:var(--primary-100); padding:15px; border-radius:8px; margin-top:15px;">
            <h4 style="color:var(--primary-1000); margin-bottom:10px;">è³‡æ–™çµæ§‹ (Schema)</h4>
            <table class="param-table">
              <tr><th>æ¬„ä½</th><th>é¡å‹</th><th>ç¯„ä¾‹å€¼</th></tr>
              ${fields.map(f => `
                <tr>
                  <td><code>${f}</code></td>
                  <td class="type">${getType(sampleItem[f])}</td>
                  <td style="max-width:300px; overflow:hidden; text-overflow:ellipsis;">${formatValue(sampleItem[f])}</td>
                </tr>
              `).join('')}
            </table>
          </div>
        `;
      }

      container.innerHTML = html;

      // Add click handlers for endpoints
      document.querySelectorAll('.endpoint-header').forEach(header => {
        header.addEventListener('click', () => {
          header.parentElement.classList.toggle('open');
        });
      });
    }

    function createEndpoint(method, path, desc, body) {
      return `
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method ${method.toLowerCase()}">${method}</span>
            <span class="endpoint-path">${path}</span>
            <span class="endpoint-desc">${desc}</span>
          </div>
          <div class="endpoint-body">${body}</div>
        </div>
      `;
    }

    function getType(value) {
      if (value === null) return 'null';
      if (Array.isArray(value)) return 'array';
      return typeof value;
    }

    function formatValue(value) {
      if (value === null) return '<em>null</em>';
      if (typeof value === 'object') {
        const str = JSON.stringify(value);
        return str.length > 50 ? str.substring(0, 50) + '...' : str;
      }
      const str = String(value);
      return str.length > 50 ? str.substring(0, 50) + '...' : str;
    }

    // JSON èªæ³•é«˜äº®å‡½æ•¸ (é¡ä¼¼ Swagger é¢¨æ ¼)
    function syntaxHighlight(json) {
      if (typeof json !== 'string') {
        json = JSON.stringify(json, null, 2);
      }
      // è½‰æ›ç‰¹æ®Šå­—å…ƒ
      json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      // èªæ³•é«˜äº®
      return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
        let cls = 'number';
        if (/^"/.test(match)) {
          if (/:$/.test(match)) {
            cls = 'key';
          } else {
            cls = 'string';
          }
        } else if (/true|false/.test(match)) {
          cls = 'boolean';
        } else if (/null/.test(match)) {
          cls = 'null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
      });
    }
  </script>
  </body>
</html>
